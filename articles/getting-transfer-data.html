<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TRC-10 and TRC-20 transfers • tronr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/yeti/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="TRC-10 and TRC-20 transfers">
<meta property="og:description" content="tronr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">tronr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/getting-acount-balance.html">Balance of a TRON account</a>
    </li>
    <li>
      <a href="../articles/getting-block-info.html">Querying the information on blocks</a>
    </li>
    <li>
      <a href="../articles/getting-events-info.html">Smart contract events</a>
    </li>
    <li>
      <a href="../articles/getting-market-data.html">Market data for Tronix (TRX)</a>
    </li>
    <li>
      <a href="../articles/getting-transfer-data.html">TRC-10 and TRC-20 transfers</a>
    </li>
    <li>
      <a href="../articles/getting-tx-info.html">Transactions</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/next-game-solutions/tronr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="getting-transfer-data_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>TRC-10 and TRC-20 transfers</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/next-game-solutions/tronr/blob/master/vignettes/getting-transfer-data.Rmd"><code>vignettes/getting-transfer-data.Rmd</code></a></small>
      <div class="hidden name"><code>getting-transfer-data.Rmd</code></div>

    </div>

    
    
<p>Blockchain transactions that involve transfer of assets from one account to another are often of particular interest. One way to detect such transactions on the TRON blockchain is to apply <code>get_tx_by_account_address()</code> or <code><a href="../reference/get_tx_for_time_range.html">get_tx_for_time_range()</a></code> and then filter the returned results by the field <code>contract_type</code> (e.g., looking for the values such as <code>TransferContract</code> or <code>TransferAssetContract</code>). However, <code>tronr</code> also offers two dedicated functions to query the <a href="https://developers.tron.network/docs/trc10" title="TRC-10 tokens">TRC-10</a> and <a href="https://developers.tron.network/docs/trc20" title="TRC-20 tokens">TRC-20</a> token transfers: <code><a href="../reference/get_trc10_transfers.html">get_trc10_transfers()</a></code> and <code><a href="../reference/get_trc20_transfers.html">get_trc20_transfers()</a></code>.</p>
<p>The two functions have almost identical arguments. In particular, users can specify the time range of interest with the <code>min_timestamp</code> and <code>max_timestamp</code> arguments. If no other parameters are provided, both functions will return all transfers of the respective tokens that took place within that time range:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/next-game-solutions/tronr">tronr</a></span><span class="op">)</span>

<span class="co"># Results contain all TRC-10 transfers that took place</span>
<span class="co"># within the specified time range:</span>
<span class="fu"><a href="../reference/get_trc10_transfers.html">get_trc10_transfers</a></span><span class="op">(</span>
  min_timestamp <span class="op">=</span> <span class="st">"1577837400000"</span>,
  max_timestamp <span class="op">=</span> <span class="st">"1577837430000"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 15 x 13</span>
<span class="co">#&gt;    tx_id block_number timestamp           from_address to_address</span>
<span class="co">#&gt;    &lt;chr&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;        &lt;chr&gt;     </span>
<span class="co">#&gt;  1 f641… 15860789     2020-01-01 00:10:30 TAGY4jZiHLF… THoVwtGGx…</span>
<span class="co">#&gt;  2 cc71… 15860788     2020-01-01 00:10:27 TEEqgcJFNYJ… TP6d1u2aE…</span>
<span class="co">#&gt;  3 604a… 15860788     2020-01-01 00:10:27 TGV7WvYAZdo… TQaiSLgGY…</span>
<span class="co">#&gt;  4 d6c5… 15860788     2020-01-01 00:10:27 TNk53vo7ihZ… TLvQcFbrv…</span>
<span class="co">#&gt;  5 675a… 15860788     2020-01-01 00:10:27 TMaBqmMRekK… TT5W8MPbY…</span>
<span class="co">#&gt;  6 0d38… 15860787     2020-01-01 00:10:24 TZBDHDwQocw… TLc41pwt3…</span>
<span class="co">#&gt;  7 97a2… 15860787     2020-01-01 00:10:24 TV5jzbbiBhp… TFfayfUQp…</span>
<span class="co">#&gt;  8 5e60… 15860786     2020-01-01 00:10:21 TDsxwH2QimM… TJKWvFZVT…</span>
<span class="co">#&gt;  9 4081… 15860784     2020-01-01 00:10:15 TQoX5EnSpaB… TFCn5JuJ4…</span>
<span class="co">#&gt; 10 ae20… 15860784     2020-01-01 00:10:15 TMaBqmMRekK… TBhjJyuXn…</span>
<span class="co">#&gt; 11 cda3… 15860783     2020-01-01 00:10:12 TXYLN4bQZe1… TXXsngWoL…</span>
<span class="co">#&gt; 12 d121… 15860783     2020-01-01 00:10:12 TNk53vo7ihZ… TJLzg1dBA…</span>
<span class="co">#&gt; 13 0ae4… 15860783     2020-01-01 00:10:12 TMJMkYike39… TFTAC3k9K…</span>
<span class="co">#&gt; 14 8340… 15860782     2020-01-01 00:10:09 TNLTMTwWQX2… TMhM9YmRX…</span>
<span class="co">#&gt; 15 d4df… 15860780     2020-01-01 00:10:03 TQ7WucGRWyz… TGwpHfMKc…</span>
<span class="co">#&gt; # … with 8 more variables: is_contract_from_address &lt;lgl&gt;,</span>
<span class="co">#&gt; #   is_contract_to_address &lt;lgl&gt;, contract_result &lt;chr&gt;, confirmed &lt;lgl&gt;,</span>
<span class="co">#&gt; #   amount &lt;dbl&gt;, token_id &lt;chr&gt;, token_name &lt;chr&gt;, token_abbr &lt;chr&gt;</span>

<span class="co"># Results contain all TRC-20 transfers that took place</span>
<span class="co"># within the requested time range:</span>
<span class="fu"><a href="../reference/get_trc20_transfers.html">get_trc20_transfers</a></span><span class="op">(</span>
  min_timestamp <span class="op">=</span> <span class="st">"1609459860000"</span>,
  max_timestamp <span class="op">=</span> <span class="st">"1609459865000"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 7 x 13</span>
<span class="co">#&gt;   tx_id block_number timestamp           from_address to_address</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;        &lt;chr&gt;     </span>
<span class="co">#&gt; 1 ce34… 26368083     2021-01-01 00:11:03 TVn1pGmuZRf… TFQyXjQXU…</span>
<span class="co">#&gt; 2 db14… 26368083     2021-01-01 00:11:03 TNaRAoLUyYE… TNuXJj7Nv…</span>
<span class="co">#&gt; 3 6c96… 26368083     2021-01-01 00:11:03 TYci9vinp8P… TMpkzcmPb…</span>
<span class="co">#&gt; 4 75d7… 26368083     2021-01-01 00:11:03 TNaRAoLUyYE… TP9sBpao6…</span>
<span class="co">#&gt; 5 8739… 26368083     2021-01-01 00:11:03 TDfKAoGTgQs… TEJPcb6UL…</span>
<span class="co">#&gt; 6 56e6… 26368083     2021-01-01 00:11:03 TS3cGyL3Dvp… TSH9XuuiY…</span>
<span class="co">#&gt; 7 4ce6… 26368083     2021-01-01 00:11:03 TEPSrSYPDSQ… TFknPRnUr…</span>
<span class="co">#&gt; # … with 8 more variables: is_contract_from_address &lt;lgl&gt;,</span>
<span class="co">#&gt; #   is_contract_to_address &lt;lgl&gt;, contract_result &lt;chr&gt;, confirmed &lt;lgl&gt;,</span>
<span class="co">#&gt; #   amount &lt;dbl&gt;, token_contract_address &lt;chr&gt;, token_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   token_abbr &lt;chr&gt;</span></code></pre></div>
<p>To retrieve transfers of a specific TRC-10 token, one can supply the <code>owner_address</code> argument to the <code><a href="../reference/get_trc10_transfers.html">get_trc10_transfers()</a></code> function. As the name suggests, this argument expects the token creator’s address. If unknown, this address can be found using the function <code><a href="../reference/get_trc10_token_description.html">get_trc10_token_description()</a></code> or from the <a href="https://tronscan.org/#/tokens/list">Tronscan website</a>.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Results contain transfers of a specific TRC-10 token:</span>
<span class="fu"><a href="../reference/get_trc10_transfers.html">get_trc10_transfers</a></span><span class="op">(</span>
  owner_address <span class="op">=</span> <span class="st">"TF5Bn4cJCT6GVeUgyCN4rBhDg42KBrpAjg"</span>,
  min_timestamp <span class="op">=</span> <span class="st">"1577837400000"</span>,
  max_timestamp <span class="op">=</span> <span class="st">"1577837430000"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 13</span>
<span class="co">#&gt;   tx_id block_number timestamp           from_address to_address</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;        &lt;chr&gt;     </span>
<span class="co">#&gt; 1 97a2… 15860787     2020-01-01 00:10:24 TV5jzbbiBhp… TFfayfUQp…</span>
<span class="co">#&gt; # … with 8 more variables: is_contract_from_address &lt;lgl&gt;,</span>
<span class="co">#&gt; #   is_contract_to_address &lt;lgl&gt;, contract_result &lt;chr&gt;, confirmed &lt;lgl&gt;,</span>
<span class="co">#&gt; #   amount &lt;dbl&gt;, token_id &lt;chr&gt;, token_name &lt;chr&gt;, token_abbr &lt;chr&gt;</span></code></pre></div>
<p>In case with the TRC-20 tokens, one would need to supply the <code>contract_address</code> argument instead, that is the address of the token’s smart contract:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Results contain transfers of a specific TRC-20 token:</span>
<span class="fu"><a href="../reference/get_trc20_transfers.html">get_trc20_transfers</a></span><span class="op">(</span>
  contract_address <span class="op">=</span> <span class="st">"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"</span>,
  min_timestamp <span class="op">=</span> <span class="st">"1609459860000"</span>,
  max_timestamp <span class="op">=</span> <span class="st">"1609459865000"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 8 x 13</span>
<span class="co">#&gt;   tx_id block_number timestamp           from_address to_address</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;        &lt;chr&gt;     </span>
<span class="co">#&gt; 1 ce34… 26368083     2021-01-01 00:11:03 TVn1pGmuZRf… TFQyXjQXU…</span>
<span class="co">#&gt; 2 db14… 26368083     2021-01-01 00:11:03 TNaRAoLUyYE… TNuXJj7Nv…</span>
<span class="co">#&gt; 3 6c96… 26368083     2021-01-01 00:11:03 TYci9vinp8P… TMpkzcmPb…</span>
<span class="co">#&gt; 4 75d7… 26368083     2021-01-01 00:11:03 TNaRAoLUyYE… TP9sBpao6…</span>
<span class="co">#&gt; 5 4ce6… 26368083     2021-01-01 00:11:03 TEPSrSYPDSQ… TFknPRnUr…</span>
<span class="co">#&gt; 6 f84d… 26368082     2021-01-01 00:11:00 TMSxsUxYiNH… TNrU4UJP6…</span>
<span class="co">#&gt; 7 f84d… 26368082     2021-01-01 00:11:00 TNrU4UJP647… TQn9Y2khE…</span>
<span class="co">#&gt; 8 4dd1… 26368082     2021-01-01 00:11:00 TQn9Y2khEsL… TVCkFCdTM…</span>
<span class="co">#&gt; # … with 8 more variables: is_contract_from_address &lt;lgl&gt;,</span>
<span class="co">#&gt; #   is_contract_to_address &lt;lgl&gt;, contract_result &lt;chr&gt;, confirmed &lt;lgl&gt;,</span>
<span class="co">#&gt; #   amount &lt;dbl&gt;, token_contract_address &lt;chr&gt;, token_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   token_abbr &lt;chr&gt;</span></code></pre></div>
<p>Results returned in the last two examples could be made even more specific by providing the <code>related_address</code> argument. This would allow one to retrieve transfers to / from that related address:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co"># Transfers of a specific TRC-10 token, related to</span>
<span class="co"># a specific account:</span>
<span class="fu"><a href="../reference/get_trc10_transfers.html">get_trc10_transfers</a></span><span class="op">(</span>
  owner_address <span class="op">=</span> <span class="st">"THLLMnsEKEci5e5dJHnW28QQU8AujGhSoK"</span>,
  related_address <span class="op">=</span> <span class="st">"TBhjJyuXnadzLX1s3yHFduZgpCeWEzda5u"</span>,
  min_timestamp <span class="op">=</span> <span class="st">"1577837400000"</span>,
  max_timestamp <span class="op">=</span> <span class="st">"1577837430000"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 1 x 13</span>
<span class="co">#&gt;   tx_id block_number timestamp           from_address to_address</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;        &lt;chr&gt;     </span>
<span class="co">#&gt; 1 ae20… 15860784     2020-01-01 00:10:15 TMaBqmMRekK… TBhjJyuXn…</span>
<span class="co">#&gt; # … with 8 more variables: is_contract_from_address &lt;lgl&gt;,</span>
<span class="co">#&gt; #   is_contract_to_address &lt;lgl&gt;, contract_result &lt;chr&gt;, confirmed &lt;lgl&gt;,</span>
<span class="co">#&gt; #   amount &lt;dbl&gt;, token_id &lt;chr&gt;, token_name &lt;chr&gt;, token_abbr &lt;chr&gt;</span>

<span class="co"># Transfers of a specific TRC-20 token, related to</span>
<span class="co"># a specific account:</span>
<span class="fu"><a href="../reference/get_trc20_transfers.html">get_trc20_transfers</a></span><span class="op">(</span>
  contract_address <span class="op">=</span> <span class="st">"TR7NHqjeKQxGTCi8q8ZY4pL8otSzgjLj6t"</span>,
  related_address <span class="op">=</span> <span class="st">"TQn9Y2khEsLJW1ChVWFMSMeRDow5KcbLSE"</span>,
  min_timestamp <span class="op">=</span> <span class="st">"1609459860000"</span>,
  max_timestamp <span class="op">=</span> <span class="st">"1609459865000"</span>
<span class="op">)</span>
<span class="co">#&gt; # A tibble: 2 x 13</span>
<span class="co">#&gt;   tx_id block_number timestamp           from_address to_address</span>
<span class="co">#&gt;   &lt;chr&gt; &lt;chr&gt;        &lt;dttm&gt;              &lt;chr&gt;        &lt;chr&gt;     </span>
<span class="co">#&gt; 1 f84d… 26368082     2021-01-01 00:11:00 TNrU4UJP647… TQn9Y2khE…</span>
<span class="co">#&gt; 2 4dd1… 26368082     2021-01-01 00:11:00 TQn9Y2khEsL… TVCkFCdTM…</span>
<span class="co">#&gt; # … with 8 more variables: is_contract_from_address &lt;lgl&gt;,</span>
<span class="co">#&gt; #   is_contract_to_address &lt;lgl&gt;, contract_result &lt;chr&gt;, confirmed &lt;lgl&gt;,</span>
<span class="co">#&gt; #   amount &lt;dbl&gt;, token_contract_address &lt;chr&gt;, token_name &lt;chr&gt;,</span>
<span class="co">#&gt; #   token_abbr &lt;chr&gt;</span></code></pre></div>
<p>Both <code><a href="../reference/get_trc10_transfers.html">get_trc10_transfers()</a></code> and <code><a href="../reference/get_trc20_transfers.html">get_trc20_transfers()</a></code> return tibbles, whose variables are described in the respective help files.</p>
<blockquote>
<p><strong>Please note</strong>: the number of transactions that take place on the TRON blockchain is very large, and thus users are advised to choose <code>min_timestamp</code> and <code>max_timestamp</code> wisely. If the requested time range is too large, the maximum number of transactions returned by the underlying <a href="https://github.com/tronscan/tronscan-frontend/blob/master/document/api.md" title="Tronscan frontend API">Tronscan API</a> will be <em>capped</em> at 10000, and the processing time may become prohibitively long. Chunking the time range of interest into smaller periods can help to avoid gaps in data in such cases. However, users would have to implement their own logic for that.</p>
</blockquote>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p>Developed by Sergey Mastitsky.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
